<!--
  ~ Copyright Â© 2015-2016
  ~
  ~ This file is part of Spoofax for IntelliJ.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<idea-plugin version="2">
    <id>org.metaborg.intellij</id>
    <name>Spoofax</name>
    <version>2.0.0-SNAPSHOT</version>
    <vendor email="info@metaborg.org" url="https://spoofax.readthedocs.io/">Metaborg</vendor>

    <description><![CDATA[
      Spoofax plugin for IntelliJ IDEA.
    ]]></description>

    <change-notes><![CDATA[
      Bug fixes and improvements.
    ]]>
    </change-notes>

    <!-- See http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html -->
    <idea-version since-build="143.381.42" until-build="162.9999"/>

    <extensions defaultExtensionNs="com.intellij">
        <compiler.buildTargetScopeProvider implementation="org.metaborg.intellij.jps.builders.SpoofaxBuildTargetScopeProvider" />
        <facetType implementation="org.metaborg.intellij.idea.facets.MetaborgFacetType" />
        <sdkType implementation="org.metaborg.intellij.idea.sdks.MetaborgSdkType"/>
        <moduleType id="METABORG_MODULE" implementationClass="org.metaborg.intellij.idea.projects.MetaborgModuleType"/>
        <frameworkSupport implementation="org.metaborg.intellij.idea.facets.MetaborgFacetFrameworkSupport"/>
        <projectStructureDetector implementation="org.metaborg.intellij.idea.projects.newproject.MetaborgProjectDetector"/>
        <fileTypeFactory implementation="org.metaborg.intellij.idea.filetypes.MetaborgFileTypeFactory"/>
        <moduleConfigurationEditorProvider implementation="org.metaborg.intellij.idea.gui.modulesettings.MetaborgModuleConfigurationEditorProvider"/>
        <lang.elementManipulator forClass="org.metaborg.intellij.idea.parsing.elements.SpoofaxIdentifier" implementationClass="org.metaborg.intellij.idea.parsing.references.SpoofaxIdentifierManipulator"/>
        <psi.referenceContributor implementation="org.metaborg.intellij.idea.parsing.references.MetaborgReferenceContributor"/>
        <projectConfigurable id="metaborg.project.language.settings" groupId="language" instance="org.metaborg.intellij.idea.gui.languagesettings.MetaborgProjectLanguagesSettings" />
        <applicationService serviceInterface="org.metaborg.intellij.configuration.IMetaborgApplicationConfig" serviceImplementation="org.metaborg.intellij.idea.configuration.IdeaMetaborgApplicationConfig" />
        <projectService serviceInterface="org.metaborg.intellij.configuration.IMetaborgProjectConfig" serviceImplementation="org.metaborg.intellij.idea.configuration.IdeaMetaborgProjectConfig" />
        <moduleService serviceInterface="org.metaborg.intellij.configuration.IMetaborgModuleConfig" serviceImplementation="org.metaborg.intellij.idea.configuration.IdeaMetaborgModuleConfig" />
        <compileServer.plugin classpath="./classes/;../classes/jpslib/slf4j-api-1.7.12.jar;org.metaborg.intellij.deps-2.0.0-SNAPSHOT.jar"/>
    </extensions>

    <extensionPoints>
        <extensionPoint name="spoofaxPlugin" interface="org.metaborg.core.plugin.IServiceModulePlugin" />
        <extensionPoint name="spoofaxMetaPlugin" interface="org.metaborg.meta.core.plugin.IServiceMetaModulePlugin" />
    </extensionPoints>

    <extensions defaultExtensionNs="org.metaborg.intellij">
        <spoofaxPlugin implementation="org.metaborg.spoofax.meta.core.SpoofaxExtensionModulePlugin" />
    </extensions>

    <application-components>
        <component>
            <implementation-class>org.metaborg.intellij.idea.IdeaApplicationComponent</implementation-class>
        </component>
    </application-components>

    <project-components>
        <component>
            <implementation-class>org.metaborg.intellij.idea.IdeaProjectComponent</implementation-class>
        </component>
    </project-components>

    <module-components>
        <component>
            <implementation-class>org.metaborg.intellij.idea.IdeaModuleComponent</implementation-class>
        </component>
    </module-components>

    <actions>
    </actions>
</idea-plugin>
